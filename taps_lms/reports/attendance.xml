<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <record id="action_lms_attendance_pdf_report" model="ir.actions.report">
        <field name="name">Attendance PDF Report</field>
        <field name="model">lms.attendance.pdf.report</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">taps_lms.lms_attendance_pdf_template</field>
        <field name="report_file">taps_lms.lms_attendance_pdf_template</field>
    </record>    

    <template id="lms_attendance_pdf_template">
        <t t-call="web.html_container">
            <t t-call="web.external_layout">
                <div class="page">
                    <!--<div class="oe_structure"/>-->
                    <h3>
                        <center>LMS Training Attendance detail</center>
                    </h3>
                    <br/>
                    <br/>
                    <div class="row">
                        <div class="col-6">
                            Training Headline :
                             <span t-field="docs.display_name"/> 
                        </div>
                        <div class="col-6">
                            Training for : 
                             <span t-field="docs.participation_group.display_name"/> 
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            Unit:
                             <span t-field="docs.company_id.display_name"/> 
                        </div>
                        <div class="col-6">
                            Venue:
                             <span t-field="docs.venue.display_name"/> 
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            Training Conducted by :
                             <table class="m-0 p-0 table-bordered">
                                <tr t-as="instructor" t-foreach="docs.instructor_id">
                                    <td>
                                        <span t-esc="instructor.display_name"/>
                                    </td>
                                </tr>
                              </table>
                               
                        </div>
                        <div class="col-6">
                            Training Date:
                             <span t-field="docs.start_date"/> 
                        </div>
                    </div>
                    <br/>
                    <table class="table table-sm m-0 p-0 table-bordered">
                        <thead>
                            <tr>
                                <th>SL</th>
                                <th>Employee Name</th>
                                <th>Present</th>
                                <th>Photo</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t>
                                <tr t-as="employee" t-foreach="docs.attendance_ids">
                                    <td>
                                        <span t-esc="employee_index+1" class="text-nowrap"/>
                                    </td>
                                    <td>
                                         <span t-field="employee.attendee_id.display_name"/> 
                                        
                                    </td>
                                    <td class="text-center">
                                        <span t-field="employee.is_present"/> 
                                    </td>
                                    <td class="text-center">
                                         <img class="img-fluid rounded-circle mb-2" style="height:40pt;width:40pt;" t-if="employee.attendee_id.image_1920" t-att-src="image_data_uri(employee.attendee_id.image_1920)"/> 
                                    </td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </div>
            </t>
        </t>
    </template>

</odoo>