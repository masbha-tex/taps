<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
	<template id="view_oa_release_body">
        
		<body>
		<html>
			<style>
		     /* Basic reset styles */
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        table {
            border-collapse: collapse;
            width: 100%;
        }
        th, td {
            padding: 5px;
            text-align: left;
        }
       
		    
		  </style>
		  <div class="container">
			  <table class=" table table-sm  p-0 m-0" style="font-size:9px;table-layout: fixed ! important; ">
					<caption align="center" style="background-color:#714B62;color: white;caption-side: top; display: table-caption;text-align: center;padding: 5px;font-size: 15px;">
						<strong>TEAM WISE SUMMARY</strong>
					</caption>
					<thead>
						<tr style="color:white;background-color:rgb(113, 75, 98);">
							<th style="border: 1px solid white" rowspan="2">TEAM</th>
							<th style="border: 1px solid white" colspan="3">TODAY'S RELEASE</th>
							<th style="border: 1px solid white" colspan="3">MTD</th>
						</tr>
						<tr style="color:white;background-color:rgb(113, 75, 98);">
							<th style="border: 1px solid white">QTY</th>
							<th style="border: 1px solid white">VALUE</th>
							<th style="border: 1px solid white">AVG PRICE</th>
							<th style="border: 1px solid white">QTY</th>
							<th style="border: 1px solid white">VALUE</th>
							<th style="border: 1px solid white">AVG PRICE</th>
						</tr>
						
					</thead>
					<tbody>
					  <t t-set="a" t-value="0"/>
					 
					      
					   <t t-foreach="env['sale.team'].search([])" t-as="team">
					     <t t-foreach="env['sale.order'].search([('sales_type', '=', 'oa'),('sale_representative.team', '=', team.id),('state', '=', 'sale'),('is_revised', '=', False),
						(['pi_type', 'in', ['regular','replacement']]),('company_id', '=', 1),('date_order', '&gt;=', (datetime.datetime.combine((datetime.date.today()-relativedelta(days=20)),
						datetime.time.min))),('date_order', '&lt;=', (datetime.datetime.combine((datetime.date.today()-relativedelta(days=20)), datetime.time.max)))])" t-as="order">
					   <t t-set="a" t-value="a+order.amount_total"/>
					   
					   </t>    
					    <tr>
					        
					    <td style="border: 1px solid black"><t t-esc="team.team_name"/></td>
					    <td style="border: 1px solid black"><t t-esc="a"/></td>
					    <td style="border: 1px solid black"></td>
					    <td style="border: 1px solid black"></td>
					    <td style="border: 1px solid black"></td>
					    <td style="border: 1px solid black"></td>
					    <td style="border: 1px solid black"></td>
					     
					  </tr>
					  
					    
					  </t>
					</tbody>
					</table>
			</div>
		
		</html>
	</body>
            
	</template>
	
</odoo>
