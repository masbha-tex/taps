<?xml version='1.0' encoding='utf-8'?>
<odoo>
    <record id="view_partner_form_inherit" model="ir.ui.view">
    <field name="name">res.partner.form.inherit</field>
    <field name="model">res.partner</field>
    <field name="inherit_id" ref="base.view_partner_form"/>
    <field name="arch" type="xml">
        <xpath expr="//form[1]/sheet[1]/notebook[1]" position="inside">
            <page string="Others" name="Others info">
              <group name="Others">
                <field name="sale_representative" options="{'no_create': True, 'no_quick_create': True, 'no_create_edit':True, 'no_open': True}"/>
                <field name="related_buyer" options="{'no_create': True, 'no_quick_create': True, 'no_create_edit':True, 'no_open': True}" />
                <field name="related_customer" options="{'no_create': True, 'no_quick_create': True, 'no_create_edit':True, 'no_open': True}" />
              </group>
            </page>
        </xpath>
    </field>
    </record>
    <record id="res_partner_view_search_inherit" model="ir.ui.view">
            <field name="name">res.partner.search.inherit</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_res_partner_filter"/>
            <field name="arch" type="xml">
                <xpath expr="//filter[@name='inactive']" position="before">
                   <filter string="Buyers List" name="buyer" domain="[('buyer_rank','>', 0)]"/>
                   
                   <separator/>
                </xpath>
            </field>
        </record>
    <record id="buyer_list" model="ir.ui.view">
        <field name="name">sale.buyer.list</field>
        <field name="model">sale.buyer</field>
        <field name="arch" type="xml">
            <tree string="Buyer List">
                <field name="name"/>
            </tree>
        </field>
    </record>
    <!-- Form View -->
    <record id="unit_form" model="ir.ui.view">
        <field name="name">sale.buyer.form</field>
        <field name="model">sale.buyer</field>
        <field name="arch" type="xml">
            <form string="Buyer Form">
                <sheet>
                    <group>
                        <field name="name"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>
    
    <record id="res_partner_action_buyer" model="ir.actions.act_window">
            <field name="name">Buyers</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">res.partner</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="context">{'search_default_buyer': 1,'res_partner_search_mode': 'buyer', 'default_is_company': True, 'default_buyer_rank': 1}</field>
            <field name="search_view_id" ref="base.view_res_partner_filter"/>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Create a new customer in your address book
              </p><p>
                Odoo helps you easily track all activities related to a customer.
              </p>
            </field>
        </record>
    
    
    <record id="buyer_name_action_config" model="ir.actions.act_window">
        <field name="name">Buyer Name</field>
        <field name="res_model">sale.buyer</field>
        <field name="view_mode">tree,form</field>
    </record>
    <menuitem
        id="menu_sale_buyer"
        name="Buyer List"
        action="buyer_name_action_config"
        parent="sale.menu_sales_config"
        sequence="17"/>
    
    <menuitem 
        id="sale_order_menu_inherit"
        name="Buyers"
        action ="res_partner_action_buyer"
        parent="sale.sale_order_menu"
        groups="sales_team.group_sale_salesman_all_leads"
        sequence="16"/>
</odoo>    